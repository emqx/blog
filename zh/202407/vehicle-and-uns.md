## 引言：软件定义汽车趋势下的挑战

中国汽车行业的产业革命已经从电气化的上半场过渡到到智能化的下半场。而软件定义汽车（SDV）是智能化的内核，汽车工业不再由内燃机和机械工程所支配。通过转移计算机科学和信息技术革命的成果到传统汽车工业，以智驾和数字座舱为代表的新兴功能标志着汽车生产出厂后的乘坐驾驶体验和功能属性不再在其出厂的那一刻固化，而是可以通过软件迭代更新在整车生命周期中根据用户需求实时持续优化。

数据驱动和智能网联汽车等创新使软件在这个以前以机械为主的行业中发挥着愈来愈重要的作用。但要完成 SDV 架构和新价值体系构建却并非易事。软件优先的设计方案在带来前所未有的产品灵活度的同时也伴随着新的挑战：

1. 车载软件在整车研发中所占比例显著超过硬件，高复杂度的软件需要持续性的更新维护和补丁修复，这给 OEM 带来了完全不同于以往硬件主导时代的高度不确定性。而且整车项目需要集成许多供应商的碎片化能力，其带来巨大的沟通和交付成本导致项目不停延期。

   ![车载软件在整车研发中所占比例显著超过硬件](https://assets.emqx.com/images/ae07f7e89ad11ea27610cdc31bcc2fea.png)

2. 日益复杂且碎片化的车内通信网络，伴随着指数级别增长的车内每日产生数据量（可达到 700Mb-1Gb/Day），为车内、车云的数据治理和传输同步带来了更高的挑战。而且 ADAS 等功能往往需要在车身、底盘等不同的域之间交换信息，而这些域控制器由于安全合规要求在以前是互相隔离的。如何在保证安全的同时满足高吞吐和低时延的跨域通信能力是软件定义汽车急需的基座。

   ![**Data Management**:](https://assets.emqx.com/images/7149fa7a69a1bb9f54c71cdaac0cf384.png)

   <center>越来越复杂的车内网络拓扑</center>

3. 多域集中式架构带来了复杂的网络拓扑。车载以太网、CAN、LIN 等不同的通信媒介和 SOME-IP/DDS 等碎片化协议共存，需要一个业界认同的互操作性标准方便不同供应商之间的产品互相集成，例如正在快速演进中的 AutoSAR AP 标准。

   ![多域集中式架构带来了复杂的网络拓扑](https://assets.emqx.com/images/0329e121e11fb9069859d635c56aea36.png)

事实上，同样的变革已经在另一个传统行业中发生：工业制造。在工业物联网系统中，通过融合 IT 和 OT，将分散、异构、复杂的边缘生产设备和原本互相孤立的 MES/ERP/PLM 等系统实时连接到一个统一的数据空间中，从而带来高度的可互操作性、扩展性，简化了数据集成、增强数据可用性和扩展性。针对这一趋势，统一命名空间（Unified Namespace, UNS）应运而生。 

> 详细了解 UNS：[统一命名空间（UNS）：面向工业物联网的下一代数据架构](https://www.emqx.com/zh/blog/unified-namespace-next-generation-data-fabric-for-iiot) 

UNS 实现了工业制造领域的互联互通，为智能制造奠定了基础。而软件定义汽车和工业制造 4.0 面对着殊途同归的挑战——如何在全组织范围高效低成本地构建一个由数据驱动的智能化底座。作为 UNS 的主要践行者和引领者，EMQ 一直致力于为广大客户和合作伙伴提供构建 UNS 所必需的数据基础设施。为了帮助汽车行业客户应对软件定义汽车趋势下的挑战，EMQ 提出将 UNS 应用于汽车领域，以实现 SDV 全生命周期的数据可互操作性。

本文将深入探讨汽车领域与 UNS 结合的可行性与可能性。

## UNS with Vehicle：UNS 和汽车的联系

首先，软件对于汽车行业绝不是新事物。事实上，自 20 世纪 70 年代初以来，软件一直是汽车创新不可分割的一部分。它的最初应用侧重于安全功能，如防抱死制动系统（ABS）和安全气囊，后来是巡航控制和主动安全系统。与此同时，随着新的软件控制功能的加入，对网络安全和通信系统的需求成为焦点。

然而，带有软件的车辆功能和由软件定义的车辆之间存在根本区别：那就是对数据的再利用。过去，功能由带有专用于单一目的的嵌入式软件控制单元进行管理。在大多数情况下，该 MCU 上的固件被设计为在车辆的整个生命周期内不再被更新，除非出现设计瑕疵和召回事件。而对数据再利用则可以持续地进行更新迭代。关于这一点，Walker Reynold （UNS 理念的创始者）举了一个形象的例子：他同时有一辆福特 F250 柴油皮卡车和一辆特斯拉，一旦特斯拉连接到 Wi-Fi，它就能够通过无线网络自动进行诊断和更新以解决问题；而福特皮卡则需要他去找经销商或 4S 店，通过电脑的 OBD 接口连接下载数据后手动发回给后台以进行诊断，通过漫长的排队等待后才能确定解决方案。

![Timeline](https://assets.emqx.com/images/4410dba7d9c799f71fb2c1d6f20c44d3.png)

今天，在软件定义汽车浪潮中，汽车软件已不再是 ECU 中嵌入式固件的同义词。软件已成为车辆的核心（即大脑）以及增长创新的引擎。软件和车云一体化为蓬勃发展的移动应用生态系统奠定了基础，该生态系统将客户与 OEM 和第三方贡献者联系起来。与主机厂过去从上而下通过设计师定义用车场景来设计功能 ECU 的方式不同，如今汽车制造商越来越重视自下至上自然生长的用户需求。类似于移动互联网中的开发者数据收集模式，借助来自消费者的数据源，来更了解自己的目标客户群体，从而持续改进产品力和设计，并以此打造竞争壁垒获得核心优势。

向数据驱动的商业模式转变的核心理念是：“客户购买汽车后，我如何使产品变得更好”，这就是数字供应链。而一个横跨云边、车云协同的统一数据空间（UNS）就变得至关重要，因为其负责收集数据并流转，是数字供应链的底层基础设施。它让其所连接的各类应用如 AI/BI 能够实时得到新的数据源并给予反馈，这一能力是辅助硬件完成数据变现的重要支柱，已经影响了新汽车价值链的各个方面。

 ![UNS](https://assets.emqx.com/images/32cf3bc946f343e79cef7ab2ad941760.png)

但应用于汽车行业的 UNS 对信息和功能安全有着更高的要求。车辆在很大程度上仍然是一个移动的机械物体，具有高动能和破坏性，以及更复杂的设备、成分和更严格的安全依赖性。哪怕微小的软件故障，也可能会造成难以估量的伤害。

## UNS in Vehicle: 融合车内异构数据源的统一通信总线

继续以上文的故事为例，特斯拉能够在用户购买后随着时间推移而继续优化更新的一大前提就是其构建的车内 UNS：在不同车况和网络条件下实时采集和记录车内不同传感器和域控制器的数据并缓存和上传，最终构建出整车数字一体化模型。这在远程诊断和用户体验优化等方面都发挥了重要作用。另外数字座舱和智能辅助驾驶等新兴功能依赖于异构数据源的融合，也都需要在不同的域之间交互传输大量数据。从车内的角度说， UNS 就是一个能接入不同协议、不同频率数据源来满足满足不同组件交互的统一通信总线。

![车内的异构数据源](https://assets.emqx.com/images/80a569ad3bbf72e352e6431a99ae14fc.png)

<center>车内的异构数据源</center>

<br>

 ![Autosar ap 中的 ARA::COM 体现了 UNS 的重要](https://assets.emqx.com/images/0bfa97c82b5f98f6c1421cadd8281090.png)

<center>Autosar ap 中的 ARA::COM 体现了 UNS 的重要</center>

 <br>

另外，车辆计算机功能集中化和软硬解耦的趋势，将导致原先低算力的 ECU 数量减少，而 SoC/MPU 的数量逐步增加。更加集中的整车算力架构和网络拓扑以及依赖跨域通信的功能需要更灵活的可互操作性和通信机制，通过数据总线来重复利用数据源，并减少无效的数据搬运；通过流式处理引擎来移动计算而不是频繁地移动数据。

![域控芯片间的通信要求日益提高](https://assets.emqx.com/images/05dadd98e604268c9ae3e6c107836c36.png)

<center>域控芯片间的通信要求日益提高</center>

## UNS across Vehicle: 数据驱动的更多可能

目前智能座舱是主机厂体现智能化能力的重要角力场。为了给客户提供更引人入胜的驾驶乘车体验，各厂商都在致力于打造能够具备更具互动性的车内车外功能，例如动态驾驶模式、数字大屏、影音娱乐甚至家居功能。为此，引入了许多物联网的近场通信技术如 WiFi 和 BLE。但组成产品差异化和竞争壁垒的将主要是软件功能，这意味着从以前以硬件为中心封闭的车辆设计流程将转变为以软件服务为中心、向第三方能力开放的车辆设计流程。这将移动体验扩展到车辆本身之外，依赖于通过数字市场和与第三方产品服务的互联来打造更大更开放的软件生态系统。那么车与云、车与车、车与各类后装设备的互动将越来越频繁。所以当我们有了车内的 UNS 以完成跨域数据采集和存储后，就需要考虑 V2X 应用如何应用车内数据。而通过一个能够横跨各类 V2X 应用的 UNS， 我们就可以很轻易地做到这一点。

![V2X](https://assets.emqx.com/images/4fcc631d598de0b853d4f1f2f2e169cb.png)

![UNS](https://assets.emqx.com/images/f6d9139b9f3f101d73842be4a139ca77.png)

<br>

另外，将量产前的车辆生产制造与量产后的车辆数字模型联动，也是 UNS 的重要价值。通过对工业产线上的零部件的安装和生命周期的追踪数据，与用户使用情况和反馈的数据结合，一方面可以对用户的需求进行快速响应，进行自定义等服务；另一方面，当发生质量事故时，也能精确定位到需要召回的车辆批次。

![image.png](https://assets.emqx.com/images/973d04b2ebdd0870d3eff6dfa85ca5c4.png)

<center>从车内到工业生产线的协议交互</center>

<br>

向数据驱动型业务模式转变的重要性已经毋庸置疑。UNS 除了提供数据变现和更丰富的服务，收集和管理数据还可以更高效地解决客诉以及推进高级智能驾驶辅助系统（ADAS）和自动驾驶功能机器学习模型的迭代更新。通过影子模式和在线标注等方式，在车端智能匹配判断长尾场景和完成高质量的数据收集，低成本建立云端场景库，再使用真实世界数据进行模型的训练、仿真和验证，并最终反哺车端推理能力。这就是如今行业流行的数据闭环理念。通过车云协同的数据闭环在海量的数据中以经济高效的方式定位到高价值数据，这将在快速发展的移动出行领域为企业带来改变游戏规则的竞争优势。

## UNS above Vehicle：技术之上，开放共赢

最后我们再思考一个问题，当我们在谈论 UNS 的时候，我们在谈论什么？是一种微创新的架构范式？还是一种新瓶装旧酒的技术方案？不，我们是在谈论一个通过共享数据流和打破信息壁垒来进行数字化转型的方法论；一种软件优先和构建算力网络的思想；一种资源复用和数据驱动的哲学；一种统一标准和共创共荣的精神。而这些，在如今的汽车行业尤为重要。

现在各大主机厂之间的竞争日趋白热化，价格战给行业的长远发展带来了不可逆的伤害。陡然升高的软件复杂度为各大主机厂都带来了严峻的整车研发周期管理和交付挑战，Time-to-Market 成本持续升高，而这背后是依然以场景为核心的思想和瀑布型的项目管理哲学带来的资源浪费。居高不下的定制化软件比例，极少使用标准化的中间件来弥合不同通信协议之间的差异，供应商人为制造的数据壁垒都在无形中提高了软件定义汽车的普及和智能化门槛。

而 UNS 开源开放，数据共享的思想精神和无疑是一剂良药。首先，开源软件庞大的代码库资源成为了取之不竭用之不尽的宝藏，如果能解决其数据安全和可靠合规的问题，可以极大降低 SDV 项目的开发周期和难度；其次，采用已在开源社区广泛验证和接纳的技术标准，能够提高项目各个供应商之间的透明度和互信度，明确责任划分；最后，通过 UNS 统一数据空间，减少了私有协议和技术标准的使用，转而依赖开源共享的知识产权，主机厂就不再有被供应商绑定（Vendor-Lockin ）的风险。

诚然，行业仍在剧烈地变革和进步中。 EMQ 愿作为汽车行业与开源世界的桥梁，尊重已有的行业习惯，为传统行业的客户和合作伙伴利用开源软件打造稳定安全的数据底座而努力。通过本文，我们讨论了统一数据命名空间对于软件定义汽车的价值，也希望有更多的同仁与我们交流合作、携手共进，共同打造一个互联、智慧、创新的汽车生态。



<section class="promotion">
    <div>
        咨询 EMQ 技术专家
    </div>
    <a href="https://www.emqx.com/zh/contact?product=solutions" class="button is-gradient">联系我们 →</a>
</section>
