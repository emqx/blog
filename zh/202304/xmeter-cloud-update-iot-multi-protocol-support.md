近日，全球首个物联网 MQTT 负载测试云服务 XMeter Cloud 推出了自定义场景测试功能。

该功能将满足用户自主定义测试场景和测试更广泛协议的需求，实现对除 MQTT 以外的 TCP、WebSocket、HTTP 等其他网络协议的测试，帮助用户构建更复杂的测试场景，提高测试效率和测试覆盖率。

了解详情：[XMeter: 全托管的 MQTT 负载测试云服务](https://www.emqx.com/zh/products/xmeter) 

## 物联网测试挑战

随着物联网技术的不断发展和普及，越来越多的设备和应用程序加入到物联网中。为了确保这些设备和应用程序的安全和性能，物联网测试变得越来越重要。然而，物联网测试面临着一些独特的挑战和难点。

- 多样化的通信协议与设备系统：物联网设备和应用程序使用的通信协议多样，类型架构各异，测试人员需要了解各类协议与不同设备，以便设计有效的测试方案，对设备和应用程序进行测试。
- 大规模测试与海量数据管理：实际物联网场景中的设备数量可能非常庞大，这要求测试工具能够承受高并发的负载和请求，此外还要能对产生的海量数据进行有效管理，以便快速发现问题。
- 安全问题：安全对于整个系统的稳定至关重要。测试人员需要对设备和应用程序进行安全性测试，以保证其能够抵御各种安全攻击和威胁。
- 环境复杂性：物联网系统的测试环境通常非常复杂，包括物理设备、网络拓扑、云服务等等。测试人员需要对测试环境进行充分了解，并能够根据实际环境灵活调整测试方案。
- 集成问题：物联网系统通常由多个子系统和服务组成。测试人员需要对系统的集成进行全面的测试，以确保各个子系统和服务之间的协作能够正常运作，完成复杂任务。

## XMeter Cloud：便捷高效的 MQTT 测试工具

XMeter Cloud 支持大规模 MQTT 模拟连接与消息吞吐性能测试，并可为 IoT 应用扩展更丰富的测试场景与协议支持，致力于为用户提供高效、可靠、易于使用的测试解决方案。

在之前的版本中，XMeter Cloud 已提供了多种内置 MQTT 测试场景，包括连接、上报、1 对 1、广播、共享订阅，用户可通过简单的选择及主要参数设置，方便快捷地提交 MQTT 测试。

### 自定义测试脚本

最新版本的 XMeter Cloud 通过 JMeter 脚本的灵活性和高扩展能力帮助实现了自定义测试支持。用户通过自主创建 JMeter 脚本，即可构建更丰富的测试场景。新版本中在专业版中开放了 JMeter 脚本上传入口，以便用户使用 XMeter Cloud 的测试管理功能对自定义 JMeter 脚本进行管理，并提交测试运行。

同时，XMeter Cloud 也完全兼容 JMeter 的扩展方式，用户如果对测试有更特殊的需要，可自主开发 JMeter 插件来定制协议测试，并将新插件放置在 XMeter Cloud 中使用。

![XMeter 自定义场景测试](https://assets.emqx.com/images/3567d5ef2272123a58d350c83a74019d.png)

具体操作步骤可查看帮助文档：[提交其他协议测试](https://docs.emqx.com/zh/xmeter-cloud/latest/quick_start/custom_scene_test.html) 

### 轻松切换被测环境

在配置自定义场景时，XMeter Cloud 还提供了运行测试时变量，方便用户针对不同环境运行相似的场景测试。通过在 JMeter 脚本中添加一个名为 `xmeter_runtime_vars` 的用户自定义变量组件，并将被测环境相关的参数，或有可能变化的配置参数加入该组件，即可启用运行时变量功能。

在提交测试前，用户从 XMeter Cloud 页面上就可以方便地指定这些变量的值，从而快速切换到不同被测环境和配置下进行测试。

例如，用户需要在集成测试中对测试环境进行压测，也需要在端对端测试中对准生产环境进行压测，两套环境使用相同逻辑的测试脚本，但目标服务器地址和端口等信息不同。这种情况下就可以使用运行时变量，避免了维护两套环境的繁琐，更加简单方便。

![XMeter 运行时变量](https://assets.emqx.com/images/086a345ac262b94fcee3d1990f5f3af8.png)

## 结语

XMeter Cloud 自定义场景测试功能的推出，将为用户带来更多灵活性和便利性，满足用户不同场景下的物联网测试需求。XMeter Cloud 致力于成为物联网测试领域的标准工具，为用户提供更强大、更全面、更高效的测试解决方案。



<section class="promotion">
    <div>
        免费试用 XMeter Cloud
        <div class="is-size-14 is-text-normal has-text-weight-normal">全托管的 MQTT 负载测试云服务</div>
    </div>
    <a href="https://accounts-zh.emqx.com/signup?continue=https%3A%2F%2Fxmeter-cloud.emqx.com%2FcommercialPage.html%23%2Fproducts" class="button is-gradient px-5">开始试用 →</a>
</section>
