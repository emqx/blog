## 引言

随着 NeuronEX 3.6.0 版本的正式发布，全新的「数据探索」功能为用户提供了一个从数据存储、查询分析到可视化监控的完整闭环，让数据价值触手可及。

仪表盘作为 NeuronEX 数据探索模块中用于集中展示和监控关键数据的可视化工具。它允许用户创建高度可定制的视图，将存储到时序数据库 Datalayers 中的数据，以直观的图表、统计值或表格形式呈现，帮助用户实时掌握生产运营状态、追踪核心 KPI 并快速响应异常情况。

本文将带您深入了解 NeuronEX 的仪表盘功能，让您能够通过简单的拖拽和配置，轻松创建数据可视化看板。

<video controls width="760px">
    <source src="https://assets.emqx.com/resources/video/NeuronEX%20Dashboard.mp4" type="video/mp4">
</video>

## 功能开启

1. 使用仪表盘功能前，需要启动内部时序数据库。

2. 登录 UI 界面后依次进入：管理 > 系统配置 > 数据存储配置。

3. 点击时序数据库 Datalayers 按钮。

   ![image.png](https://assets.emqx.com/images/620d636bdbe66a4c05057e5fb9cd75e4.png)

4. 导航至：数据采集 > 北向应用 > DataStorage，点击添加订阅按钮，选择需要存储到时序数据库里的数据。

   ![image.png](https://assets.emqx.com/images/2077af547fa549c3dbf921eaa1be2fcc.png)

## 主页面管理

1. 导航到「**数据探索** - **仪表盘」**页面，会看到一个主页面，以列表形式清晰展示所有已创建的仪表盘，便于集中管理您创建的所有仪表盘，如图所示：

   ![image.png](https://assets.emqx.com/images/3626ac2f785c1f6eadeda190750d8a3e.png)

2. 主页面包含以下信息：

   - **名称（Name）：**仪表盘的自定义名称。

   - **描述（Description）：**对仪表盘用途或内容的简要说明。

   - **创建时间（Created At）：**仪表盘的创建日期和时间。

   - **更新时间（Updated At）：**仪表盘最后一次修改的日期和时间。

   - **操作（Operations）：**对每个仪表盘可执行的操作。
     - **编辑（Edit）：**点击图标，修改现有仪表盘的名称、描述等基本信息。
     - **进入仪表盘（Enter）：**点击图表，即可进入该仪表盘的详细视图。
     - **复制 （Copy）：**点击图标，快速复制一个现有的仪表盘作为新仪表盘的模板。
     - **删除 （Delete）：**点击图标，删除不再需要的仪表盘。

## 内部视图与交互

进入单个仪表盘后，您将看到一个可交互的界面，用于展示和配置数据。

此页面会根据右上角的配置，定时向后端发送请求数据，然后将其展示到对应的 Panel 中。

![image.png](https://assets.emqx.com/images/091b4b85ac39a6d1d88226cb874df0de.png)

点击「进入编辑模式」，具体功能效果如下：

- **添加面板：**点击左上角的 `添加面板` 按钮，向当前仪表盘中添加新的数据展示单元 (Panel)。
- **取消：**如果对仪表盘的布局或 Panel 进行了修改但不想保存，可以点击 `取消` 按钮放弃更改。
- **保存仪表盘：**对仪表盘的任何修改（如添加/删除 Panel、调整布局、更改 Panel 配置）都需要点击 `保存仪表盘` 按钮才会生效。

![image.png](https://assets.emqx.com/images/cbaeec4953982fb50070fb6fe30115d3.png)

### 全局时间与刷新控制

在仪表盘右上角，可以控制整个仪表盘的数据展示范围和刷新频率。

**时间范围选择器:**

- **全局控制：**定义所有 Panel 中数据的查询时间跨度。
- **预设范围：**提供多种常用的预设时间范围（例如截图中的“最近1小时”）。
- **自定义时间段：**允许用户选择精确的开始和结束日期与时间。

**刷新机制 :**

- **自动刷新间隔：**选择一个预设的自动刷新时间间隔（例如截图中的“30s”），仪表盘将按此频率自动更新数据。
- **手动刷新：**点击刷新图标，立即获取最新数据并更新所有 Panel。

### Panel 管理与布局

Panel 是仪表盘上显示单个图表、统计值或表格的基本单元。

- **拖拽调整：**支持在仪表盘上通过拖拽 Panel 的右下角控制点来调整其大小，或拖动 Panel 头部调整其位置，灵活定制布局。
- **网格对齐：**仪表盘使用网格系统（如截图背景所示的虚线网格），帮助 Panel 自动对齐，使布局更加整洁美观。
- **Panel 操作菜单：**每个 Panel 的右上角通常会有一个三点菜单图标，点击后可对该 Panel 进行编辑、复制、删除等操作。

![image.png](https://assets.emqx.com/images/3ceac604e3cef5d6f8c95087f1e4b163.png)

### 添加与配置 Panel

点击仪表盘视图中的 `添加面板` 按钮后，会弹出一个「添加面板」对话框，用于详细配置新的 Panel。

![image.png](https://assets.emqx.com/images/11fc765491d978168f56f71e94cb8e2e.png)

**对话框布局:**

1. **左侧 - 查询配置区 :**
   - **Query Tabs（例如 "Query 1"）：**允许为一个 Panel (除 Table 类型外) 配置多个数据查询。每个查询对应图表中的一个系列。可以通过点击 `+` 来增加新的 Query。
   - **SQL 输入区：**为当前选中的 Query Tab 输入 SQL 查询语句。
   - **Alias by：**为当前 Query 的结果系列指定一个显示别名。这对于区分 Panel 中的多条曲线非常有用。通常要求 SQL 查询结果包含时间戳和单个值列。

2. **右侧 - 面板选项：**
   - **面板标题:** 为该 Panel 指定一个有意义的名称（必填项）。
   - **图表类型 :** 选择数据的展示方式，当前版本支持：
     - **Line（折线图）：** 适用于展示时序数据的趋势。
     - **Bar（柱状图）：**适用于比较不同类别或时间点的数据量。
     - **Stat（统计值）：**以醒目的方式显示单个关键数值。
     - **Table（表格）：**以表格形式展示详细数据 (Table 类型只支持一个 Query)。
   - **单位（Unit）：**例如 `°C`, `RPM`, `MPa` 等。此信息会显示在图表上或作为数值的后缀。

3. **底部选项：**
   - **SQL 查询使用 $timeFilter 变量 :**
     - **启用/禁用开关:** 控制是否在 SQL 查询中启用 `$timeFilter` 变量。
     - **启用时:** 用户的 SQL 语句中 **必须包含** `$timeFilter` (例如 `WHERE $timeFilter` 或 `AND $timeFilter`)。NeuronEX 会将其替换为基于仪表盘全局时间或该 Panel 预览时间选择器所选定的时间范围条件。
     - **禁用时:** NeuronEX 会自动在用户 SQL 的基础上拼接时间范围条件。
   - **对话框顶部控制:**
     - 该对话框内也可能包含独立的时间范围选择器和执行查询/刷新按钮，用于在确认添加 Panel 前，针对当前配置的 Query 进行数据预览和测试。
   - **对话框操作按钮 (Dialog Action Buttons):**
     - **取消 (Cancel):** 关闭“添加面板”对话框，不保存任何配置。
     - **执行查询 (Execute Queries):** （在截图底部，也可能在对话框顶部）执行当前配置的 SQL 查询，并在对话框内预览结果，帮助用户验证查询的正确性。
     - **确认 (Confirm):** 保存 Panel 配置，并将其添加到仪表盘上。

![image.png](https://assets.emqx.com/images/d3a9935eda3ba2ee17f6592276594452.png)

## 使用场景示例

**生产监控大屏：**将关键设备的运行参数（温度、压力、转速）、产量、能耗等指标集中展示，实时了解产线状态。

**KPI 追踪看板：**创建专门的仪表盘来可视化 OEE (Overall Equipment Effectiveness)、设备故障率、能耗指标等关键绩效指标。

**质量分析报告：**展示产品关键质量参数的趋势图和统计数据，帮助监控质量波动。

**告警事件概览：**结合数据分析结果，展示近期重要告警的数量、类型和趋势。

## 结语

仪表盘作为 NeuronEX 数据探索模块的核心可视化工具，能够将时序数据库中的海量数据，实时转化为直观的动态监控视图。借助多样化的图表展示和灵活的配置功能，您可以快速构建贴合业务需求的专业看板，实现从数据呈现到决策支持的全流程价值闭环。

无论是实时掌握生产线脉搏、精准追踪核心 KPI、深入分析质量波动，还是快速响应关键告警事件，仪表盘功能都能为您提供集中、清晰且实时的数据呈现，成为您驱动决策、优化运营、提升效率的有力助手。

现在，您已经了解了仪表盘功能的开启、创建、配置与交互方式。欢迎开始创建您的专属仪表盘，通过直观的可视化监控和智能分析，实现运营效率的持续提升，开启数据驱动的新篇章。



<section class="promotion">
    <div>
        咨询 EMQ 技术专家
    </div>
    <a href="https://www.emqx.com/zh/contact?product=solutions" class="button is-gradient">联系我们 →</a>
</section>
