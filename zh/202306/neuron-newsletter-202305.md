> Neuron 为工业物联网的「连接」而生，支持同时为多个不同通讯协议设备、**数十种工业协议**进行一站式接入及 MQTT 协议转换，仅**占用超低资源**，可以原生或容器的方式部署在 X86、ARM 等架构的各类边缘硬件中，助力构建工业物联网应用。
>
> 社区站网址：[Neuron: 开源工业协议网关软件](https://neugates.io/zh)
>
> Github 仓库：[Open source industrial IoT connectivity server](https://github.com/emqx/neuron)

 

五月，Neuron 新增了多个南向驱动，包括：三菱 FX 驱动，主要适配三菱 FX 系列的 PLC；DLT645-1997 驱动，为 DLT645 中国电力通信协议的 1997 版本；松下 FP 驱动，适配松下的多数 PLC；三菱 CNC 驱动，主要用于控制三菱机床和加工中心等设备的运动和加工。同时，Neuron 核心层面支持基于设备的模版配置，在需要配置大量同一型号的设备时，只需要配置一次设备点位，就可基于此模版一键创建出设备实例节点。

## 新增驱动一览

### 三菱 FX 驱动

三菱 FX 驱动用于通过串口访问三菱的 FX、FX0、FX0N、FX2N、FX3U 等 PLC。通过 FX 协议对三菱 PLC 的 X、Y、M、C、D、T、S 等区域进行读写。可支持的数据类型包括 int16、uint16、int32、uint32、int64、uint64、float、double、bit、string。

读取过程做了响应优化，可减少多点读取的请求次数。

### DL/T645-1997 驱动

DL/T645-1997 是中国国家标准中的电能表通信协议标准，定义了电能表与上位机之间的通信规范，包括数据传输格式、控制命令、数据项定义等。通过该协议可以实现电能表的读取、写入、控制和监测等功能。采用基于 DL/T645-1997 协议的通信方式，支持基于 RS-485 总线的多点通信，通信速率最高可达 2400bps。支持双向通信，能够实现电能表与上位机之间的数据交互。

Neuron 将逐步完善 DL/T645-1997 协议的数据标识，以实现各种数据项的读写功能。支持该协议后，Neuron 将可以广泛应用于民用、工业和商业领域中的电表和相关设备的数据采集。

### 松下 FP 驱动

松下 FP 驱动用于通过以太网访问松下的 FP-XH、FP0H 系列的 PLC。通过 Mewtocol-COM 协议对松下 PLC 的 X、Y、R、T、C、L、D、L（D）、F、IX、IY、ID 等区域进行读写。可支持的数据类型包括 int16、uint16、int32、uint32、int64、uint64、float、double、bit、string。

读取过程做了相应优化，可将多点读合并为一次请求，减少请求次数。

### 三菱 CNC 驱动

三菱 CNC 驱动实现了对三菱 M70、M80 系列运动控制系统的运行数据采集，主要包含加工程序名、运行模式、主轴转速、主轴负载、主轴倍率、进给速度、进给倍率、紧停状态、PLC 点位等数据。实现对三菱系统机床和加工中心的实时监控，帮助工厂实现加工异常快速处理、维保计划制定、OEE 计算，从而提升设备利用率，提高工厂生产效率。

### Modbus RTU over UDP

Modbus RTU 插件支持选择使用 UDP 作为传输层协议。UDP 相较于 TCP 使用更少的网络带宽，有着更高的传输效率。目前很多 DTU 都已经支持使用 UDP 进行数据透传，在实际运用过程中，可先尝试使用 UDP 连接设备，如网络环境稳定，无较大的网络丢包，可选择使用 UDP，可有效提升带宽利用率。

## 基于设备的模版

新增基于设备型号的点表配置模版，此功能将在 2.6 版本中正式发布。

在实际应用场景中，经常会需要对接多个同一型号的设备，如同一环境中存在多个同一型号的温度传感器或是湿度传感器等。这些设备有着相同的点位表，在模版管理中，可创建一个 AA 型号的温度传感器模版，然后在模版中配置上对应的设备组以及点位信息即可完成一个设备模版的创建；随后在设备管理中创建设备节点时，可选择基于已有的模版进行创建，创建的设备节点将自动同步模版中的设备组以及点位信息，极大简化了在配置多个设备节点时的配置操作。

## 其他更新

- 优化部分代码，适配兼容 MIPS32 的设备。
- MQTT、SparkPlug B、WebSocket 插件的 SSL 连接支持使用公共的 CA，SSL 连接配置更加便捷。
- 优化日志等级，明确规范插件中关键点的日志等级，默认日志级别下，产生更少的日志。
- Neuron 核心支持批量写入点位，各个驱动将逐步支持批量写入。
- 已创建完成的 Node 名支持修改。

## 问题修复

- 修复 UI 相关的已知问题，改善 UI 体验。
- 修复 MQTT 插件在短时间内接收大量消息时消息丢失的问题。
- 修复三菱 3E 驱动在高频率采集的过程中同时对设备写入时，异常退出的问题。



<section class="promotion">
    <div>
        免费试用 Neuron
    </div>
    <a href="https://www.emqx.com/zh/try?product=neuron" class="button is-gradient px-5">开始试用 →</a>
</section>
