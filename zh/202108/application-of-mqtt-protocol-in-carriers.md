[MQTT](https://www.emqx.com/zh/mqtt) 是用于物联网的标准消息传递协议。它被设计为一种非常轻量级的发布/订阅消息传送，非常适合以较小的代码占用量和网络带宽连接远程设备。MQTT 协议具有以下特点：

- **轻巧高效**：[MQTT 客户端](https://www.emqx.com/zh/blog/introduction-to-the-commonly-used-mqtt-client-library)非常小，需要设备资源少。MQTT 消息头很小，可以优化网络带宽。
- **双向通讯**：MQTT 允许设备到云之间以及云到设备之间的消息传递。
- **可靠的消息传递**：MQTT 具有3种定义的服务质量级别：0-最多一次，1-至少一次，2-恰好一次，可根据业务场景保证消息传递的可靠性。
- **支持不可靠网络**：许多物联网设备通过不可靠的蜂窝网络进行连接。MQTT 对持久性会话的支持减少了将客户端与代理重新连接的时间。
- **安全**：MQTT 使您可以轻松地使用 TLS 加密消息并使用现代身份验证协议（例如OAuth）对客户端进行身份验证。

如今，MQTT 被广泛应用于汽车、制造业、电信、石油和天然气等行业。

**本系列文章将详细解读 MQTT 协议在各行业实际应用场景中是如何发挥作用的。**



## 电信运营商边缘设备管理面临的挑战

电信运营商传统移动业务和固网宽带业务市场趋向饱和，三大运营商的竞争也随之愈发激烈。在国家提速降费的政策导向下，传统业务的收益不断下降，发展空间有限。未来 5G 终端用户、5G 应用和海量的智能 IoT 设备将是运营商的重要增量市场。

电信运营商接入网（含无线）、传输网、核心网、城域网等网络通过 SNMP、CLI、Netconf、TR069 等协议实现了完善的网络管理，但是针对海量的边缘网关（企业或家庭）和 IoT 设备管理仍有待完善，面临以下挑战：

- 海量设备管理难：截至 2020 年中国物联网设备和边缘网关总量超过百亿，物联网设备年增长率超过 60%，传统的电信级 OSS 系统无法支撑如此规模的设备管理。

- 设备无独立管理 IP：海量的物联网设备和边缘网关没有独立的管理 IP，通过传统的 SNMP、CLI、NETCONF 等协议无法实现设备管理。

- 低功耗、弱网环境下的可靠通信：IoT 设备资源受限且有低功耗需求，需要轻量的网络协议进行管理。

- 低时延要求：部分 5G 垂直应用场景（如工控、车联网）对消息时延有很高的要求。

  

## 基于 MQTT 的物联网最后一公里网络管理

随着物联网技术的快速发展，轻量级 MQTT 协议逐渐成为主流物联网协议，广泛应用于 IoT 设备消息通信。MQTT 协议也完美解决了运营商在 IoT 边缘侧面临的上述问题。

![运营商物联网 MQTT 消息接入示意图](https://assets.emqx.com/images/790ad5d50e7d30156e86259cbebc71f9.png)

运营商物联网 MQTT 消息接入示意图

以 EMQ 面向运营商的云边一体化解决方案为例：

![EMQ 面向运营商的云边一体化解决方案架构图](https://assets.emqx.com/images/9f50714ed3b3de5d9db4b640f20840c2.png)

EMQ 面向运营商的云边一体化解决方案

### 使用 MQTT 协议统一接入海量边缘设备

针对工业制造、智慧矿山、能源电力等场景中涉及到 Modbus、OPC-UA、IEC 等各类不同的 PLC 工业协议，可以先通过 [EMQ](https://www.emqx.com/zh) 提供的[物联网边缘工业协议网关软件 Neuron](https://www.emqx.com/zh/products/neuron) 统一转换成 MQTT 协议，再通过 EMQX 高可用、分布式集群架构构建物联网管理平台，实现设备数据的连接、移动及后续的处理与分析，解决海量设备管理问题。

### MQTT 发布订阅模式解决设备管理问题

传统的电信管理协议如 SNMP、NETCONF、TRO69 等都是基于「请求/响应」模式，而 MQTT  基于「发布/订阅」模式的优点在于发布者与订阅者的解耦：订阅者与发布者不需要建立直接连接、也不需要同时在线。这就解决了没有固定管理IP的问题，设备接入后可以轻松实现设备管理。

### 适配边缘设备硬件及网络要求的可靠通信

相比其他网络管理通信协议，MQTT 协议可在严重受限的硬件设备和低带宽、高延迟的网络上实现稳定传输。边缘设备可以通过集成 MQTT SDK 的方式扩展 MQTT  协议通信。同时，EMQ  云边一体化解决方案在边缘端的消息缓存能力可以将数据临时缓存在边缘设备本地，保证实时数据上报过程中不会因网路暂时的不稳定而丢失数据，实现弱网下的消息可靠通信。

### 基于 MQTT IoT Hub 实现边缘计算

海量的数据上云会给云端平台带来巨大的带宽成本和数据存储成本，未来 75% 的物联网流量都会在边缘完成计算。在 EMQ 云边一体化解决方案中，通过 Edge 将消息接入汇聚到边缘平台，再通过 eKuiper  进行数据流量清洗和函数计算，实现流量的削峰填谷和清洗，最后将处理好的数据通过 MQTT 协议转发到云端。

### 基于 MQTT 协议实现云边协同管理

为了更好的实现云-边-端的一体化管理，EMQ 除了支持基于 WebSocket/QUIC 协议的 KubeEdge 云边协同能力外，也自主开发了基于 MQTT 协议的 Edge  Manager Tunnel 组件，可实现插件管理、配置管理、规则管理、物模型同步、函数计算分发部署等云边协同能力。



## 使用 MQTT 为运营商带来的收益与价值

### 海量边缘设备轻松管理

充分发挥运营商的网络优势，实现海量的边缘网关和物联网设备的管理，打通云 - 边（网）- 端的端到端管理能力，为运营商深化云网融合、云网协同一体化解决方案提供基础。

### 低功耗节能减排

MQTT 协议的轻量级特点使客户端到服务端的硬件需求大大降低，通过动态修改 MQTT 的 KeepAlive 时间还可以实现设备的半休眠状态管理，在节约硬件成本的同时也极大降低设备功耗。

### 巨大的增量市场

基于 MQTT 协议，运营商可以轻松构建集团或省级的物联网运用平台，为政企、家庭用户提供物联网设备接入管理和数字化增值服务，打开潜在的巨大增量市场。

### 助力数字化转型

通过基于 MQTT、CoAP 等物协议的物联网平台的建设，使得电信运营商从传统的网络管道运营商向以网络运营为主体，实现云网融合、数字化解决方案于一体的数字化转型。



<section class="promotion">
    <div>
        免费试用 EMQX Cloud
        <div class="is-size-14 is-text-normal has-text-weight-normal">全托管的云原生 MQTT 消息服务</div>
    </div>
    <a href="https://www.emqx.com/zh/signup?continue=https://cloud.emqx.com/console/deployments/0?oper=new" class="button is-gradient px-5">开始试用 →</a >
</section>
