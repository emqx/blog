> [XMeter](https://www.emqx.com/zh/products/xmeter) 是 EMQ 基于 Apache 开源项目提供的 MQTT 性能测试云服务，支持千万量级 MQTT 模拟连接与消息吞吐性能测试，并可为 IoT 应用扩展更丰富的测试场景与协议支持。

本月，XMeter 团队主要聚焦于企业版 4.0.0 版本的开发，新的 4.0 版本最突出的特性是测试机资源在 Kubernetes 集群上的部署，此外，还将提升管理员对系统配置项进行更改操作的易用性。同时，3.2.x 维护版本也在持续的迭代开发中。

公有云服务方面，正在规划全新升级的 XMeter Cloud 测试服务，进一步提升 IoT 压测能力。希望升级的云测试服务很快能与大家见面。

## 测试机资源的 Kubernetes 部署

4.0 版本之前的测试机集群支持水平扩展。部署时，需要在作为测试机的各台物理机或虚机上安装 XMeter 的测试代理 DCM，测试运行时，由各个空闲的测试代理向主控申请测试任务，申请成功后在测试机上调度相应的测试容器，执行申请到的测试部分。

安装测试代理的方式在扩展测试机集群规模时不够方便，需要部署多台新的测试机。同时为了实现主控对各测试机的正常调度与通信，引入了重量级的依赖组件进行协调，导致架构不够简洁。

4.0 版本使用 Kubernetes 集群部署测试机资源，主要目的是采用 Kubernetes 自身的能力统一管理测试机的部署与扩展，更灵活地管理测试机的状态，限制并监控测试机所使用的系统资源，同时达到简化系统架构的效果。

测试机资源部署在 Kubernetes 后，对终端用户而言，在使用 XMeter 系统管理并运行测试时不会感受到太大的不同，部分需要配置测试机上测试容器规模的操作不再需要，而三方插件支持、测试机状态、错误与跟踪日志、运行时日志、阈值分析等原有的功能依然会支持。对管理员而言，因为先前版本中的测试机概念不再存在，原先针对各台测试机的查看操作会有很大的变化，将被 Kubernetes 上相应测试资源的查看功能代替。

## 管理员的系统配置项管理

XMeter 企业版提供了灵活的系统配置项，以适合不同企业的个性化配置需求。先前版本中的配置管理需要系统管理和运维人员修改服务器上配置文件的相应配置项实现，用户体验不够好。为了提升易用性，将把企业常用的配置项展示在管理员控制台中，方便管理员以可视的方式进行配置。

## 3.2.3 版本进展

3.2.3 维护版本主要解决 3.2.2 维护版本中发现的问题，以及部分特性的优化。主要包括：

- 测试报告页面的持续优化
- 测试数据在小吞吐量情况下统计算法的改进
- 错误日志提供统计图表的展示方式
