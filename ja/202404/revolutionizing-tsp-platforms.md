## 背景

現在の自動車業界では、パーソナライズされたドライビング体験への需要が高まっています。これにより、スマートナビゲーション、リモートコントロール、車両探索、POI（Point-of-Interest）送信など、豊富なTSPアプリケーションが生まれています。この進化する状況の中で、ヘッドユニット（HU）は、人、車、クラウドを結ぶ車内インテリジェンスの中核として位置づけられています。TSPプラットフォームとの統合により、OEM（Original Equipment Manufacturers）は、高品質でカスタマイズされたサービスを顧客に提供することができます。

TSPプラットフォームの未来は、「データドリブン」で「サービス指向」であることです。成功するためには、TSPプラットフォームは、車両との確実な接続、効率的なデータ伝送、柔軟なデータ処理を確保する必要があります。これにより、堅牢で高性能かつ保守性の高いデータインフラが絶対不可欠となります。

## 次世代TSPにおける自動車の接続性の課題

車両の効率的な管理を確保し、すべてのクールなサービスを提供するために、OEMはHUやT-Boxからの大量の接続を処理できるTSPプラットフォームを必要としています。車両からのすべてのデータを収集・処理し、処理されたデータを返送する必要があります。しかし、これには以下のような側面で大きな課題があります。

- **大量の接続とスループット**

  自動車販売の急増に伴い、一部の大手OEMは現在100万台以上の自動車を監督しています。休日などのピーク時には、プラットフォームは100万件近い同時接続を処理する必要があり、各接続は双方向に複数のデータ転送を管理します。これには、プラットフォームが数百万のメッセージスループットをサポートする必要があります。

- **ポリシーやアプリケーションの要件による複数プロトコル**

  地域の規制に準拠するため、車両は特定のデータ伝送プロトコルに従う必要があります。例えば、中国では、車両位置監視にはJT/T 808プロトコルが、電気自動車の監視にはGB/T 32960プロトコルが適用されています。一方、OEMはさまざまなデータフォーマットを使用し、MQTTやTCPを介してデータを送信する場合があります。これらの多様なプロトコルを統一的にアクセスすることは、プラットフォームの複雑さを大幅に増大させます。

- **セキュリティとプライバシー**

  車両の接続性が深まるにつれ、セキュリティ上の脅威も高まります。HUが一般的に依存するパブリックネットワーク接続では、通信のセキュリティとユーザーのプライバシーを確保することが困難です。さらに、車種によって異なる認証方法が採用されているため、統一的な認証アクセスの確立が必要です。

- **複雑なネットワーク環境**

  トンネルや基地局の切り替えなどの障害により、車両とクラウドの接続が中断され、メッセージの確実な配信とデータの損失防止が困難になります。さらに、車両が駐車中など、HUシステムがオフラインになっている長時間の間に、クラウドから送信されたメッセージの配信を確実にすることは、カスタマーケアサービスなどのダウンストリームアプリケーションにとって重要な課題です。

- **オフラインメッセージ配信**

  TSPプラットフォームから車両へのデータ送信、例えばPOIの更新、カスタマーケア、運用メッセージなどの文脈では、プラットフォームは通常、特定のモデルのすべての車両に一括配信を行います。しかし、実際の状況では、エンジンが切られた後、多くのHUがオフラインになる可能性があります。これは、TSPプラットフォームから送信されたサービスメッセージが、HUがオンラインに戻ったときに車両に到達できるようにするという課題を提起します。さらに、ユーザーが開始したPOIの更新を他のケアや運用メッセージよりも優先するなど、メッセージ配信のさまざまなビジネス要件に対応することは、実装の複雑さを増します。

- **データ処理の多様な要件**

  車両からのデータがTSPプラットフォームに到達すると、バックエンドのアプリケーションサービスは、データの種類やアプリケーションの文脈に応じて、さまざまなデータ処理および保存ソリューションを要求します。リアルタイムの車両監視サービスではメッセージキューへの保存が必要ですが、履歴分析用のデータはデータベースに配置する必要があります。多数の車両からのデータの流入を効果的に処理するために、適応性のあるプリプロセッシング、ルーティング、データブリッジングの統合を実装することが課題となります。

- **信頼性と安定性**

  TSPサービスは、人と車とOEMを結ぶ主要なインターフェイスとして機能するため、そのサービスの安定性を維持することが重要です。サービスが中断すると、大きなマイナスの影響を与える可能性があります。TSPサービスの安定性を確保するカギは、高い安定性と信頼性を備えたデータインフラを維持することにあります。

## MQTTベースのデータインフラによるシームレスな自動車の接続性の実現

[MQTT](https://www.emqx.com/ja/blog/the-easiest-guide-to-getting-started-with-mqtt)（Message Queuing Telemetry Transport）は、低帯域幅、高遅延、信頼性の低いネットワークのシナリオ向けに設計された軽量のメッセージングプロトコルです。そのパブリッシュ/サブスクライブモデル、セッション永続化メカニズム、QoSメッセージ品質メカニズムにより、IoVシナリオではTCPやHTTPプロトコルよりも車両ネットワーキングシナリオに適しています。

コネクテッドカーの文脈では、[MQTTブローカー](https://www.emqx.com/ja/blog/the-ultimate-guide-to-mqtt-broker-comparison)は、TSPプラットフォームアーキテクチャ全体のアクセス層の中核として機能します。プラットフォームと多数の車両間の直接接続を分離し、両者間のメッセージ交換のプロキシとして機能します。

先進の企業向け[MQTTプラットフォーム](https://www.emqx.com/ja/products/emqx)であるEMQXは、TSPプラットフォームのインフラ構築のための強力な接続とデータソリューションを提供します。高性能、信頼性、スケーラビリティの設計により、車両の確実な接続、データ収集、データ配信を可能にします。これにより、OEMは前述の課題に対処し、アプリケーション開発に集中することができます。

![Enabling Seamless Automotive Connectivity with MQTT-Based Data Infrastructure](https://assets.emqx.com/images/c46e3b97ed71d7cbce79097def6fdff7.png)

- **ビジネスの成長をサポートする高いパフォーマンス**

  EMQXは、分散型で高可用性のアーキテクチャを採用しており、数百万の同時接続をサポートできます。これにより、オンライン接続のピーク時でも同時アクセスと安定した運用が保証されます。クラスタのスケーラビリティにより、将来の車両数の増加に合わせて柔軟に拡張できます。

- **さまざまな要件に対応するマルチプロトコルサポート**

  EMQXのマルチプロトコルゲートウェイは、MQTT、JT/T 808、GB/T 32960、またはそれらの派生プロトコルなど、複数のプロトコルを介した車両とTSPプラットフォーム間の接続をサポートします。これにより、TSPプラットフォームは、関連する標準規制に準拠して、車両の位置追跡、安全監視、その他のデータを収集できます。

- **データセキュリティの保証**

  EMQXはTLS/DTLSセキュリティプロトコルをサポートしており、TSPと車両がTLSを使用した一方向および双方向の認証を介して安全な接続を確立できるようにします。また、EMQXはPKI/CAシステムと連携し、One-Vehicle-One-Secret認証を実現できます。さらに、EMQXは異なるセキュリティ認証ポリシーを持つ複数のリスニングポートを有効にできるため、異なる車両モデルが様々な認証方法を使用してTSPプラットフォームにアクセスできます。EMQXが提供する身元認証とアクセス制御機能により、安全なデータアクセスをさらに保証できます。

- **モバイルネットワークにおけるメッセージング強化**

  MQTTプロトコルに基づくkeep alive、セッション永続化、QoSレベルなどの複数のメカニズムにより、複雑なネットワークの問題により車両の接続が切断された後でも、メッセージ伝送を再確立できます。これにより、移動中の車両とクラウド間のリアルタイムかつ確実なメッセージ通信が実現します。

  さらに、バージョン5.0からEMQXは[MQTT over QUIC](https://www.emqx.com/ja/blog/mqtt-over-quic)をサポートする最初のMQTTブローカーとなり、移動中の車両に対して高速な接続確立、再接続、接続の移行を実現し、複雑なモバイルネットワークにおけるMQTTプロトコルの堅牢性をさらに向上させました。

- **多様なアプリケーションを可能にする高いスループット容量**

  EMQXはMQTTベースのサブスクライブ/パブリッシュ対話をサポートし、大量の[MQTTトピック](https://www.emqx.com/ja/blog/advanced-features-of-mqtt-topics)を処理する能力と、100万TPSレベルのスループット容量を備えています。各車両-プラットフォーム接続において、複数の論理的に分離されたMQTTトピックを使用して、異なるアプリケーションデータのアップストリームおよびダウンストリーム伝送をサポートできます。例えば、TSPは、位置情報やバッテリーステータスなどのリアルタイム情報を受信することで車両を監視・管理し、POI送信やカスタマーケア配信などのサービスを提供できます。

- **柔軟なオフラインメッセージ配信**

  HUがオフラインの間にメッセージを配信するという課題は、EMQXのオフライン配信機能で対処できます。Redisなどのデータベースと組み合わせることで、HUのオフライン期間中のデータをキャッシュし、HUがオンラインになるとすぐにTSPプラットフォームから送信されたメッセージを受信できるようにします。EMQXは、異なるビジネスに対して優先度や有効期限などの異なるオフライン配信戦略をカスタマイズすることもサポートしています。

- **便利な運用と保守**

  EMQXは、監視と設定のためのダッシュボードを提供しています。車両のリアルタイムの接続状態とメッセージトラフィックを監視し、APIを介して監視データをTSPまたはサードパーティの監視システムにプッシュできます。ホット設定とホットアップグレードにより、サービスを停止することなく設定を調整でき、TSPサービスの継続性を最大限に確保できます。スロー・サブスクライバーの統計やログ・トレースなどの機能により、TSP運用保守チームは、異常な接続、メッセージ受信の遅延などの問題をすばやく特定できます。

## EMQX：世界の大手自動車ブランドから信頼されています

EMQXは、[コネクテッドカー](https://www.emqx.com/ja/blog/connected-cars-and-automotive-connectivity-all-you-need-to-know)市場において豊富な経験を有しています。2023年現在、世界中の20以上のOEMと30以上のTier 1 TSPプロバイダーがEMQXをTSPインフラストラクチャソリューションの第一候補として選択しており、世界中で2,000万台以上の車両がEMQXにアクセスしています。

コネクテッドビークルのシナリオでは、EMQXにはいくつかの重要な利点があります。

- **高い信頼性とスケーラビリティ：** EMQX Enterpriseは分散型アーキテクチャを採用しており、高可用性とスケーラビリティを備え、数百万の同時接続とメッセージスループットをサポートできます。車両数とビジネスデータの増加に対応するための柔軟なスケーリングをサポートし、TSPプラットフォームの安定した運用を確保します。
- **安全な接続とデータアクセス：** EMQXは、ユーザー名/パスワード、TLS認証、JWT認証、ACLなど、複数の認証方法をサポートしています。また、TSPの認証サービスと統合して、統一されたセキュリティ認証を実現することもできます。
- **複数のリスニングポートでの統一アクセス：** 車種によってMQTTプロトコルのバージョンや接続認証方法が異なる場合があります。EMQXは、異なるプロトコルと認証方法を持つカスタム複数のリスニングポートをサポートし、異なる車種の統一接続を実現します。
- **強力なデータ統合：** シンプルなSQLステートメントを使用することで、データのフィルタリング、変換、集約、永続化など、ビジネスニーズに応じて迅速かつ柔軟にデータ処理を行うことができます。そして、EMQXのダッシュボードで簡単な設定を行うことで、処理されたデータを高いパフォーマンスで様々なメッセージキューやSQL/NoSQL/時系列データベースにブリッジ＆統合することができます。

お客様の事例をご覧ください：[SAIC VolkswagenとEMQが次世代のインテリジェントIoVシステムを構築](https://www.emqx.com/en/customers/saic-volkswagen)



<section class="promotion">
    <div>
        専門家と話します
    </div>
    <a href="https://www.emqx.com/ja/contact?product=solutions" class="button is-gradient">お問い合わせ →</a>
</section>
